<!doctype html>
<html lang="zh-HK">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>ALPHA X</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;700;900&family=Orbitron:wght@600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#02020a;
      --cyan: rgba(120,220,255,.92);
      --violet: rgba(180,110,255,.92);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:#fff;
      overflow:hidden;
      font-family:"Noto Sans TC", system-ui, -apple-system, Segoe UI, Roboto, Arial;
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
    }

    /* 背景图：满屏 */
    .bg{
      position:fixed; inset:0;
      background: url("./bg-desktop-1920x1080.jpg") center/cover no-repeat;
      transform: scale(1.06);
      filter: saturate(1.08) contrast(1.05);
      z-index:-5;
      will-change: transform;
      animation: bgFloat 10s ease-in-out infinite alternate;
    }
    @media (max-width:768px){
      .bg{
        background-image:url("./bg-mobile.png");
        transform: scale(1.03);
        animation-duration: 12s;
      }
    }
    @keyframes bgFloat{
      from{ transform: scale(1.06) translate3d(0,0,0); }
      to{ transform: scale(1.10) translate3d(-1.2%,-1.2%,0); }
    }

    .vignette{
      position:fixed; inset:0;
      background: radial-gradient(ellipse at 50% 35%, rgba(0,0,0,.05), rgba(0,0,0,.65) 70%, rgba(0,0,0,.88));
      z-index:-4;
      pointer-events:none;
    }

    /* ✅ Canvas 动态粒子层（一直动） */
    #fx{
      position:fixed; inset:0;
      z-index:-3;
      pointer-events:none;
    }

    /* 标题上、入口下 */
    .wrap{
      position:relative;
      min-height:100svh;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:space-between;
      padding:
        max(28px, env(safe-area-inset-top))
        18px
        max(28px, env(safe-area-inset-bottom));
      z-index:1;
    }

    .top{
      text-align:center;
      margin-top: clamp(8px, 3vh, 28px);
      text-shadow: 0 10px 30px rgba(0,0,0,.65);
      animation: popIn .9s ease both;
    }
    @keyframes popIn{
      from{opacity:0;transform:translateY(-10px)}
      to{opacity:1;transform:translateY(0)}
    }

    h1{
      margin:0;
      font-weight:900;
      letter-spacing:.08em;
      font-size: clamp(28px, 5vw, 56px);
      line-height:1.1;
      background: linear-gradient(90deg, rgba(255,255,255,.95), rgba(170,230,255,.95), rgba(200,170,255,.95));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
    }
    .sub{
      margin-top:10px;
      font-size: clamp(13px, 2.2vw, 16px);
      letter-spacing:.28em;
      opacity:.92;
    }
    .sub b{
      font-family:"Orbitron","Noto Sans TC", sans-serif;
      font-weight:800;
      letter-spacing:.22em;
    }

    .bottom{
      width:min(520px, 92vw);
      margin-bottom: clamp(6px, 2vh, 24px);
      animation: rise .9s .1s ease both;
    }
    @keyframes rise{
      from{opacity:0;transform:translateY(14px)}
      to{opacity:1;transform:translateY(0)}
    }

    .dock{
      position:relative;
      padding:18px 16px 16px;
      border-radius:26px;
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.03));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: 0 22px 70px rgba(0,0,0,.65), inset 0 1px 0 rgba(255,255,255,.12);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      overflow:hidden;
    }
    .dock::before{
      content:"";
      position:absolute; inset:-40%;
      background:
        radial-gradient(circle at 50% 50%, rgba(120,220,255,.30), transparent 55%),
        radial-gradient(circle at 35% 70%, rgba(180,110,255,.22), transparent 55%);
      filter: blur(10px);
      animation: aura 3.2s ease-in-out infinite alternate;
      pointer-events:none;
    }
    @keyframes aura{
      from{transform:translate3d(-1%,-1%,0) scale(1);opacity:.75}
      to{transform:translate3d(1%,1%,0) scale(1.06);opacity:.95}
    }

    .enter{
      position:relative;
      display:block;
      width:100%;
      text-decoration:none;
      text-align:center;
      padding:18px 18px;
      border-radius:999px;
      border:1px solid rgba(180,220,255,.35);
      background: linear-gradient(90deg, rgba(80,190,255,.95), rgba(160,130,255,.92));
      box-shadow:
        0 18px 60px rgba(120,220,255,.25),
        0 18px 60px rgba(180,110,255,.20),
        inset 0 1px 0 rgba(255,255,255,.35);
      transition: transform .18s ease, filter .18s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .enter span{
      font-family:"Orbitron","Noto Sans TC", sans-serif;
      font-weight:800;
      letter-spacing:.22em;
      font-size: clamp(16px, 3.2vw, 20px);
      color:#fff;
      text-shadow: 0 6px 18px rgba(0,0,0,.35);
    }
    .enter:hover{ transform: translateY(-2px) scale(1.01); filter: brightness(1.05); }
    .enter:active{ transform: translateY(0) scale(.99); filter: brightness(.98); }

    .hint{
      margin-top:10px;
      text-align:center;
      font-size:12px;
      opacity:.75;
      letter-spacing:.22em;
    }

    /* 点击爆裂粒子 */
    #burst{
      position:fixed; inset:0;
      pointer-events:none;
      z-index:99;
      opacity:0;
    }
    #burst.active{ opacity:1; }
    .p{
      position:absolute;
      width:6px;height:6px;border-radius:999px;
      background: radial-gradient(circle, rgba(255,255,255,.95), rgba(160,220,255,.65), rgba(180,110,255,.25));
      transform: translate(-50%,-50%);
      animation: fly 900ms ease-out forwards;
      opacity:.95;
    }
    @keyframes fly{
      0%{ transform: translate(var(--x0), var(--y0)) scale(1); opacity:1; }
      70%{ opacity:1; }
      100%{ transform: translate(var(--x1), var(--y1)) scale(.2); opacity:0; }
    }

    .disintegrate .top,
    .disintegrate .bottom{
      animation: vanish 1.0s ease forwards;
    }
    @keyframes vanish{
      to{ opacity:0; transform: translateY(10px) scale(.98); filter: blur(6px); }
    }
  </style>
</head>

<body>
  <div class="bg" aria-hidden="true"></div>
  <div class="vignette" aria-hidden="true"></div>

  <!-- ✅ 一直动的粒子 -->
  <canvas id="fx"></canvas>

  <div class="wrap" id="page">
    <div class="top">
      <h1>你嘅旅程，由呢一刻開始</h1>
      <div class="sub">一步踏入 <b>ALPHA X</b> 宇宙。</div>
    </div>

    <div class="bottom">
      <div class="dock">
        <a class="enter" id="enterBtn" href="https://alphaxhk.win" rel="noopener">
          <span>進入&nbsp;ALPHA&nbsp;X</span>
        </a>
        <div class="hint">點擊進入</div>
      </div>
    </div>
  </div>

  <div id="burst" aria-hidden="true"></div>

  <script>
    /* =========================
       A) 持续动态光粒（Canvas）
       ========================= */
    const c = document.getElementById('fx');
    const ctx = c.getContext('2d', { alpha: true });

    let W = 0, H = 0, DPR = 1;
    function resize(){
      DPR = Math.min(2, window.devicePixelRatio || 1);
      W = Math.floor(window.innerWidth);
      H = Math.floor(window.innerHeight);
      c.width  = Math.floor(W * DPR);
      c.height = Math.floor(H * DPR);
      c.style.width = W + 'px';
      c.style.height = H + 'px';
      ctx.setTransform(DPR,0,0,DPR,0,0);
    }
    window.addEventListener('resize', resize);
    resize();

    const isMobile = matchMedia('(max-width: 768px)').matches;
    const N = isMobile ? 80 : 140;

    const particles = Array.from({length:N}, ()=>makeP(true));
    function makeP(initial=false){
      const p = {
        x: Math.random()*W,
        y: Math.random()*H,
        r: 0.6 + Math.random()*1.8,
        vx: (-0.12 + Math.random()*0.24),
        vy: (-0.10 + Math.random()*0.20),
        a: 0.25 + Math.random()*0.55,
        tw: 0.004 + Math.random()*0.012,
        hue: Math.random() < 0.55 ? 'cyan' : 'violet'
      };
      if(!initial){
        // 从边缘刷入更自然
        const side = Math.floor(Math.random()*4);
        if(side===0){ p.x=-10; p.y=Math.random()*H; }
        if(side===1){ p.x=W+10; p.y=Math.random()*H; }
        if(side===2){ p.x=Math.random()*W; p.y=-10; }
        if(side===3){ p.x=Math.random()*W; p.y=H+10; }
      }
      return p;
    }

    function draw(){
      ctx.clearRect(0,0,W,H);

      // 柔光叠加：更“霓虹”
      ctx.globalCompositeOperation = 'lighter';

      for(let i=0;i<particles.length;i++){
        const p = particles[i];
        p.x += p.vx;
        p.y += p.vy;
        p.a += (Math.random()-0.5)*p.tw;

        // 轻微闪烁
        const alpha = Math.max(0.08, Math.min(0.85, p.a));
        const glow = p.hue==='cyan' ? 'rgba(120,220,255,' : 'rgba(180,110,255,';
        const core = 'rgba(255,255,255,';

        // 绘制：外光 + 核心
        ctx.beginPath();
        ctx.fillStyle = glow + (alpha*0.35) + ')';
        ctx.arc(p.x, p.y, p.r*4.2, 0, Math.PI*2);
        ctx.fill();

        ctx.beginPath();
        ctx.fillStyle = glow + (alpha*0.55) + ')';
        ctx.arc(p.x, p.y, p.r*2.3, 0, Math.PI*2);
        ctx.fill();

        ctx.beginPath();
        ctx.fillStyle = core + (alpha*0.75) + ')';
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fill();

        // 出界重生
        if(p.x < -60 || p.x > W+60 || p.y < -60 || p.y > H+60){
          particles[i] = makeP(false);
        }
      }

      ctx.globalCompositeOperation = 'source-over';
      requestAnimationFrame(draw);
    }
    draw();

    /* =========================
       B) 点击爆裂 + 解体 + 跳转
       ========================= */
    const btn = document.getElementById('enterBtn');
    const burst = document.getElementById('burst');

    function spawnBurst(x, y, count = 100){
      burst.classList.add('active');
      burst.innerHTML = "";

      for(let i=0;i<count;i++){
        const p = document.createElement('div');
        p.className = 'p';
        const angle = Math.random() * Math.PI * 2;
        const radius = 140 + Math.random() * 420;
        const x1 = x + Math.cos(angle) * radius;
        const y1 = y + Math.sin(angle) * radius;

        p.style.left = x + "px";
        p.style.top  = y + "px";
        p.style.setProperty('--x0','0px');
        p.style.setProperty('--y0','0px');
        p.style.setProperty('--x1',(x1-x)+'px');
        p.style.setProperty('--y1',(y1-y)+'px');

        const s = 3 + Math.random() * 7;
        p.style.width = s + "px";
        p.style.height = s + "px";
        burst.appendChild(p);
      }

      setTimeout(()=>{
        burst.classList.remove('active');
        burst.innerHTML = "";
      }, 1000);
    }

    btn.addEventListener('click', (e)=>{
      e.preventDefault();
      const rect = btn.getBoundingClientRect();
      const x = rect.left + rect.width/2;
      const y = rect.top + rect.height/2;

      spawnBurst(x, y, window.innerWidth < 768 ? 80 : 130);
      document.body.classList.add('disintegrate');

      const href = btn.getAttribute('href');
      setTimeout(()=>{ window.location.href = href; }, 1100);
    }, {passive:false});
  </script>
</body>
</html>
